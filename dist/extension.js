"use strict";const e=require("vscode"),{snippetsArr:t,functionsArr:n,twigArr:o,MODALS:i,hooks:r,components:s}=require("./___autogenerated_data.js"),l="https://docs.salla.dev/",p=e.workspace.getConfiguration("Salla.twilight-vscode-extension");function a(t,n){let o=void 0===t.example?"":t.example,i=void 0===t.description?"":t.description;return new e.Hover({language:n||"html",value:i+"\n\n"+o})}function u(t,n){let o=function(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(n);return t}(n);if("global"===t)return function(t){return t.map((t=>{const n=new e.CompletionItem(t);return n.insertText=new e.SnippetString(t),n.label=t,n}))}(o);const i=new e.CompletionItem(" "+t);i.insertText=new e.SnippetString(t+".${1|"+o+"|}");const r=new e.MarkdownString("Select your Salla Ojbect Property from the list below");return i.kind=e.CompletionItemKind.Property,i.label="Salla "+t,i.documentation=r,r.baseUri=e.Uri.parse(l),[i]}exports.activate=function(m){const c=e.window.activeTextEditor;c&&c.document&&function(c){!0===p.hover&&m.subscriptions.push(e.languages.registerHoverProvider(c,{provideHover(e,i){const r=e.getWordRangeAtPosition(i),s=e.getText(r);for(const e in t)if(t[e].prefix==s||t[e].hover==s)return a(t[e],c);for(const e in n)if(n[e].prefix==s||n[e].hover==s)return a(n[e],c);for(const e in o)if(o[e].prefix==s||o[e].hover==s)return a(o[e],c)}}));m.subscriptions.push(e.languages.registerCompletionItemProvider("html",{provideCompletionItems(n,o){let i=new e.Position(o.line,0),r=new e.Range(i,o),s=n.getText(r),l=[];if("|"!=s[s.length-1])return[];for(let n in t)if(void 0!==t[n].text){let o=void 0===t[n].description?"":t[n].description,i=void 0===t[n].example?"":"\n\n"+t[n].example,r=new e.CompletionItem(n);r.kind=e.CompletionItemKind.Function,r.detail=t[n].description,r.documentation=o+i,r.insertText=t[n].text,l.push(r)}return l},resolveCompletionItem:e=>e},"|")),m.subscriptions.push(e.languages.registerCompletionItemProvider(c,{provideCompletionItems(){const t=new e.CompletionItem("{% component [Salla.Component] %}");t.insertText=new e.SnippetString("{% component '${1|"+s+"|}' %}");const n=new e.MarkdownString("Select your Salla Component from the list below");return t.documentation=n,n.baseUri=e.Uri.parse(l),[t]}})),m.subscriptions.push(e.languages.registerCompletionItemProvider(c,{provideCompletionItems(){const t=new e.CompletionItem("{% hook '[Salla.Hook]' %}");t.insertText=new e.SnippetString("{% hook '${1|"+r+"|}' %}");const n=new e.MarkdownString("Select your Salla Hook from the list below");return t.documentation=n,n.baseUri=e.Uri.parse(l),[t]}})),m.subscriptions.push(e.languages.registerCompletionItemProvider(c,{provideCompletionItems(){let e=[];for(let t in i)e.push(...u(t,i[t]));return[...e]}}))}("html")},exports.deactivate=function(){};
